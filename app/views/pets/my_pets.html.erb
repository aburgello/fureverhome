<h1 class="text-center my-4">My Pets</h1>
<div class="collapse navbar-collapse" id="navbarSupportedContent">
  <ul class="navbar-nav me-auto">
    <li class="nav-item active">
      <%= link_to "Home", "/", class: "nav-link" %>
    </li>
    <li class="nav-item">
      <%= link_to "Pets", pets_path, class: "nav-link" %>
    </li>
  </ul>
  <ul class="navbar-nav ml-auto">
    <% if user_signed_in? %>
      <li class="nav-item">
        <%= link_to "My Account", edit_user_registration_path, class: "nav-link" %>
      </li>
      <% if current_user.role == 'owner' %>
        <li class="nav-item">
          <%= link_to 'Create', new_pet_path, class: 'nav-link' %>
        </li>
        <li class="nav-item">
          <%= link_to 'My Pets', my_pets_path, class: 'nav-link' %>
        </li>
      <% end %>
      <li class="nav-item">
        <%= link_to "Sign Out", destroy_user_session_path, data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, class: "nav-link" %>
      </li>
    <% else %>
      <li class="nav-item">
        <%= link_to 'Sign In', new_user_session_path, class: 'nav-link' %>
      </li>
    <% end %>
  </ul>
</div>
</div>
</nav>

<div class="container">
<% if @pets.any? %>
  <ul class="list-group">
    <% @pets.each do |pet| %>
      <li id="<%= dom_id(pet) %>" class="list-group-item d-flex justify-content-between align-items-center">
        <div>
          <%= link_to pet.title, pet_path(pet), class: 'fw-bold' %> - <%= pet.breed %> - <%= pet.age %> years old
        </div>
        <div>
          <%= link_to 'Edit', edit_pet_path(pet), class: 'btn btn-warning btn-sm me-2' %>
          <%= link_to 'Delete', pet_path(pet), data: { turbo_method: :delete, turbo_confirm: 'Are you sure?' }, class: 'btn btn-danger btn-sm' %>
        </div>
      </li>
    <% end %>
  </ul>
<% else %>
  <p class="text-center mt-3">You have not created any pet listings yet.</p>
<% end %>

<div class="text-center my-3">
  <%= link_to 'Create New Pet', new_pet_path, class: 'btn btn-primary me-2' %>
  <%= link_to 'Back to All Pets', pets_path, class: 'btn btn-secondary' %>
</div>
</div>
